{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card p-4">
      <h4 class="mb-4">{{ title }}</h4>
      <form method="post">
        <div class="mb-2">
          <label class="form-label">Название запчасти</label>
          <input class="form-control" name="name" value="{{ part.name if part else '' }}" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Цена (руб)</label>
          <input class="form-control" name="price" type="number" step="0.01" min="0" value="{{ part.price if part else '0.00' }}" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Поставка</label>
          <select class="form-select" name="supply_id" required>
            <option value="">Выберите поставку</option>
            {% for supply in supplies %}
            <option value="{{ supply.supply_id }}" {% if part and part.supply_id == supply.supply_id %}selected{% endif %}>
              №{{ supply.supply_id }} ({{ supply.supplier.name }}) - {{ supply.supply_date | date_fmt }}
            </option>
            {% endfor %}
          </select>
        </div>
        <div class="d-grid mt-4">
          <button class="btn btn-primary">{{ submit_text }}</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
